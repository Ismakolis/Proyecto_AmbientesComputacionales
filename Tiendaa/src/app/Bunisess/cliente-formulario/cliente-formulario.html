<div class="max-w-md mx-auto mt-8 p-6 border rounded shadow">
  <h2 class="text-2xl font-bold mb-6">
    {{ esEdicion ? 'Editar Cliente' : 'Registrar Cliente' }}
  </h2>

  <form [formGroup]="clienteForm" (ngSubmit)="onSubmit()">
    <div class="mb-4">
      <label class="block mb-1 font-semibold">Nombre</label>
      <input formControlName="nombre" class="w-full p-2 border rounded" />
      <small *ngIf="clienteForm.get('nombre')?.touched && clienteForm.get('nombre')?.invalid" class="text-red-600">El nombre es obligatorio</small>
    </div>

    <div class="mb-4">
      <label class="block mb-1 font-semibold">Apellido</label>
      <input formControlName="apellido" class="w-full p-2 border rounded" />
      <small *ngIf="clienteForm.get('apellido')?.touched && clienteForm.get('apellido')?.invalid" class="text-red-600">El apellido es obligatorio</small>
    </div>

    <div class="mb-4">
      <label class="block mb-1 font-semibold">Correo</label>
      <input formControlName="correo" type="email" class="w-full p-2 border rounded" />
      <small *ngIf="clienteForm.get('correo')?.touched && clienteForm.get('correo')?.invalid" class="text-red-600">Correo inválido</small>
    </div>

    <div class="mb-4">
      <label class="block mb-1 font-semibold">
        Contraseña
        <span *ngIf="esEdicion" class="text-sm text-gray-500">(Dejar vacía para no cambiar)</span>
      </label>
      <input formControlName="contrasena" type="password" class="w-full p-2 border rounded" />
      <small *ngIf="clienteForm.get('contrasena')?.touched && clienteForm.get('contrasena')?.invalid" class="text-red-600">Contraseña mínima 6 caracteres</small>
    </div>

    <div class="mb-4">
      <label class="block mb-1 font-semibold">Teléfono</label>
      <input formControlName="telefono" type="text" class="w-full p-2 border rounded" />
    </div>

    <div class="mb-4">
      <label class="block mb-1 font-semibold">Rol</label>
      <select formControlName="rol" class="w-full p-2 border rounded">
        <option value="" disabled>Seleccione un rol</option>
        <option value="cliente">Cliente</option>
        <option value="admin">Administrador</option>
      </select>
      <small *ngIf="clienteForm.get('rol')?.touched && clienteForm.get('rol')?.invalid" class="text-red-600">El rol es obligatorio</small>
    </div>

    <button
      type="submit"
      class="bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded"
      [disabled]="clienteForm.invalid || cargando"
    >
      {{ cargando ? (esEdicion ? 'Actualizando...' : 'Registrando...') : (esEdicion ? 'Actualizar Cliente' : 'Registrar Cliente') }}
    </button>

    <div *ngIf="errorMsg" class="mt-3 text-red-600 font-semibold">{{ errorMsg }}</div>
  </form>
</div>
